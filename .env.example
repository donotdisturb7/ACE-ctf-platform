# ============================================
# CTFd Configuration - ACE Escape Game 2025
# ============================================

# === CTFd Core ===
SECRET_KEY=CHANGEME_random_secret_key_here
MYSQL_ROOT_PASSWORD=CHANGEME_root_password
MYSQL_PASSWORD=CHANGEME_ctfd_password

# === Integration with Registration Site (REQUIRED) ===
# URL de l'API du site d'inscription Next.js/Express
REGISTRATION_SITE_URL=http://backend:5000/api

# Identifiants admin pour se connecter à l'API
REGISTRATION_SITE_ADMIN_EMAIL=admin@ace-escapegame.com
REGISTRATION_SITE_ADMIN_PASSWORD=CHANGEME_your_admin_password

# === SSO Configuration ===
# JWT Secret (doit être identique au site d'inscription)
JWT_SECRET=CHANGEME_same_as_registration_site

# URL publique de CTFd (pour redirections SSO)
CTFD_PUBLIC_URL=http://localhost:8000

# === Webhook Configuration ===
# Secret pour sécuriser les webhooks (doit être identique au site d'inscription)
WEBHOOK_SECRET=CHANGEME_webhook_secret

# === Mail Configuration (Optional) ===
# Note: Le site d'inscription gère déjà les emails
# Ces paramètres sont optionnels pour CTFd
MAIL_SERVER=smtp.gmail.com
MAIL_PORT=587
MAIL_USERNAME=your-email@gmail.com
MAIL_PASSWORD=your-app-password
MAILFROM_ADDR=noreply@ace-escapegame.com

# === CTFd Configuration (bypass setup page) ===
CTF_NAME=ACE Escape Game 2025
CTF_DESCRIPTION=Plateforme CTF pour ACE Escape Game Cybersécurité

# === CTFd Admin (Initial Setup) ===
# Utilisé uniquement pour la première installation
CTFD_ADMIN_USER=admin
CTFD_ADMIN_EMAIL=admin@ctfd.local
CTFD_ADMIN_PASSWORD=CHANGEME_ctfd_admin_password

# ============================================
# Instructions
# ============================================
#
# 1. Copiez ce fichier en .env :
#    cp .env.example .env
#
# 2. Remplacez tous les "CHANGEME" par vos vraies valeurs
#    IMPORTANT: JWT_SECRET doit être identique au site d'inscription
#
# 3. Démarrez CTFd :
#    make start
#
# 4. Testez l'accès :
#    make test
#
# 5. Vérifiez les logs :
#    make logs
#
